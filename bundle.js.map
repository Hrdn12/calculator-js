{"version":3,"sources":["webpack:///webpack/bootstrap b6369e05dc7fc5eb6623","webpack:///./scripts/calcApp.js","webpack:///./scripts/calculator/calculator.js","webpack:///./scripts/calculator/arithmeticUnit.js","webpack:///./scripts/calculator/controlUnit.js","webpack:///./scripts/calculator/add.js","webpack:///./scripts/calculator/command.js","webpack:///./scripts/calculator/sub.js","webpack:///./scripts/calculator/mul.js","webpack:///./scripts/calculator/div.js","webpack:///./scripts/calculatorUI/calculatorUI.js","webpack:///./scripts/calculatorUI/getChar.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b6369e05dc7fc5eb6623\n **/","'use strict';\r\n\r\nimport Calculator from './calculator/calculator.js';\r\nimport CalculatorUI from './calculatorUI/calculatorUI.js';\r\n\r\n// This class includes the entire application\r\nclass CalcApp {\r\n    constructor(htmlContainer) {\r\n        // This object provides the calculator API\r\n        this.calculator = new Calculator();\r\n\r\n        // This object provides the user's interface\r\n        this.calculatorUI = new CalculatorUI(this.calculator, htmlContainer);\r\n    }\r\n}\r\n\r\n// Add the application to the page\r\nexport let calcApp = new CalcApp(document.getElementById('calculatorContainer'));\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calcApp.js\n **/","'use strict';\r\n// This class includes all objects of realization and provides the calculator API.\r\n// It receives queries from the object of the CalculatorUI class,\r\n// creates objects of concrete command classes and sets the receiver (the arithmetic unit) for them.\r\n\r\n\r\nimport ArithmeticUnit from './arithmeticUnit.js';\r\nimport ControlUnit from './controlUnit.js';\r\n\r\n// concrete command classes\r\nimport Add from './add.js';\r\nimport Sub from './sub.js';\r\nimport Mul from './mul.js';\r\nimport Div from './div.js';\r\n\r\n\r\nexport default class Calculator {\r\n    constructor() {\r\n        this._arithmeticUnit = new ArithmeticUnit();\r\n        this._controlUnit = new ControlUnit();\r\n    }\r\n\r\n    add(operand) {\r\n        return this._run(new Add(this._arithmeticUnit, operand));\r\n    }\r\n\r\n    sub(operand) {\r\n        return this._run(new Sub(this._arithmeticUnit, operand));\r\n    }\r\n\r\n    mul(operand) {\r\n        return this._run(new Mul(this._arithmeticUnit, operand));\r\n    }\r\n\r\n    div(operand) {\r\n        return this._run(new Div(this._arithmeticUnit, operand));\r\n    }\r\n\r\n    undo(levels) {\r\n        this._controlUnit.undo(levels);\r\n\r\n        return this._arithmeticUnit.result;\r\n    }\r\n\r\n    redo(levels) {\r\n        this._controlUnit.redo(levels);\r\n\r\n        return this._arithmeticUnit.result;\r\n    }\r\n\r\n    clean() {\r\n        this._controlUnit._commands.length = 0;\r\n        this._controlUnit._current = 0;\r\n\r\n        return this._arithmeticUnit.result = 0;\r\n    }\r\n\r\n    repeatLastCommand() {\r\n        let commands = this._controlUnit._commands;\r\n\r\n        if (commands.length > 0) {\r\n            this._run(commands[commands.length -1]);\r\n        }\r\n\r\n        return this._arithmeticUnit.result;\r\n    }\r\n\r\n    _run(command) {\r\n        this._controlUnit.executeCommand(command);\r\n\r\n        return this._arithmeticUnit.result;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/calculator.js\n **/","'use strict';\r\n\r\n// The Arithmetic unit (the receiver).\r\n// An object of this class performs computing operations.\r\n// Any class may receive the result of these operations.\r\n// In our case, the result reads an object of Calculator class.\r\n\r\nexport default class ArithmeticUnit {\r\n    constructor() {\r\n        this.result = 0;\r\n    }\r\n\r\n    compute(operator, operand) {\r\n        switch(operator) {\r\n            case '+':\r\n                this.result += operand;\r\n                break;\r\n\r\n            case '-':\r\n                this.result -= operand;\r\n                break;\r\n\r\n            case '*':\r\n                this.result *= operand;\r\n                break;\r\n\r\n            case '/':\r\n                this.result /= operand;\r\n                break;\r\n\r\n            default:\r\n                throw new Error('Unknown operator');\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/arithmeticUnit.js\n **/","'use strict';\r\n// The Control unit (the invoker).\r\n// An object of this class keeps history of objects of commands, and calls the execute method on them.\r\n// In addition this class describes UNDO and REDO methods.\r\n\r\nexport default class ControlUnit {\r\n    constructor() {\r\n        this._commands = [];\r\n        this._current = 0; // an index of the command which is going to be executed\r\n    }\r\n\r\n    executeCommand(command) {\r\n        // In case, we are going to add a new command after we have used undo/redo method,\r\n        // it is necessary to check if we are not currently pointing at the middle of the array.\r\n        // If we are - cut the rest of the array, so the new adding command will be in the proper order.\r\n        if (this._current <= this._commands.length -1) {\r\n            this._commands.splice(this._current);\r\n        }\r\n        this._commands.push(command);\r\n        this._commands[this._current].execute();\r\n        this._current++;\r\n    }\r\n\r\n    undo(levels) {\r\n        // the levels - is a number of steps, that we are going to make backward\r\n        for (let i = 0; i < levels; i++) {\r\n            if (this._current > 0) {\r\n                this._commands[--this._current].unExecute();\r\n            }\r\n        }\r\n    }\r\n\r\n    redo(levels) {\r\n        for (let i = 0; i < levels; i++) {\r\n            if (this._current <= this._commands.length -1) {\r\n                this._commands[this._current++].execute();\r\n            }\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/controlUnit.js\n **/","'use strict';\r\n\r\nimport Command from './command.js';\r\n\r\nexport default class Add extends Command {\r\n    constructor(receiver, operand) {\r\n        super();\r\n        this._receiver = receiver;\r\n        this._operand = operand;\r\n        this._operator = '+';\r\n    }\r\n\r\n    get _reverseOperator() {\r\n        return '-';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/add.js\n **/","'use strict';\r\n// Abstract class Command provides an interface to perform the operation.\r\n// Concrete command classes inherit from it.\r\n\r\nexport default class Command {\r\n    execute() {\r\n        this._receiver.compute(this._operator, this._operand);\r\n    }\r\n\r\n    unExecute() {\r\n        this._receiver.compute(this._reverseOperator, this._operand);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/command.js\n **/","'use strict';\r\n\r\nimport Command from './command.js';\r\n\r\nexport default class Sub extends Command {\r\n    constructor(receiver, operand) {\r\n        super();\r\n        this._receiver = receiver;\r\n        this._operand = operand;\r\n        this._operator = '-';\r\n    }\r\n\r\n    get _reverseOperator() {\r\n        return '+';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/sub.js\n **/","'use strict';\r\n\r\nimport Command from './command.js';\r\n\r\nexport default class Mul extends Command {\r\n    constructor(receiver, operand) {\r\n        super();\r\n        this._receiver = receiver;\r\n        this._operand = operand;\r\n        this._operator = '*';\r\n    }\r\n\r\n    get _reverseOperator() {\r\n        return '/';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/mul.js\n **/","'use strict';\r\n\r\nimport Command from './command.js';\r\n\r\nexport default class Div extends Command {\r\n    constructor(receiver, operand) {\r\n        super();\r\n        this._receiver = receiver;\r\n        this._operand = operand;\r\n        this._operator = '/';\r\n    }\r\n\r\n    get _reverseOperator() {\r\n        return '*';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculator/div.js\n **/","'use strict';\r\n// This class implements the user's interface.\r\n// It process user's input and provides logic to the static HTML file.\r\n// As dependencies, this class requires the html container and the calculator API object.\r\n\r\nimport getChar from './getChar.js';\r\n\r\nexport default class CalculatorUI {\r\n    constructor(calculator, calcContainer) {\r\n        this._calculator = calculator; // the object with the calculator API\r\n        this._calcContainer = calcContainer; // the root HTML container of the calculator\r\n        this._screen = this._calcContainer.querySelector('.calculator__screen');\r\n        this._screen.value = 0; // default value\r\n\r\n        // Flags for determining the status of user's input\r\n        this._firstOperandInputted = false;\r\n        this._equallyInputted = false;\r\n        this._currentOperator = null; // the current operator, which is going to be executed\r\n        this._inputUpdated = false; // it changes, when the user inputs a new character\r\n\r\n\r\n        // Event handlers for mobile devices\r\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n\r\n            this._calcContainer.addEventListener('touchstart', this._processMouseEvent.bind(this));\r\n\r\n        // Event handlers for desktops\r\n        } else {\r\n            this._screen.focus(); // default\r\n\r\n            // Keep the focus on the screen, when the user clicks on the calculator container\r\n            this._calcContainer.addEventListener('click', (function() {this._screen.focus()}).bind(this));\r\n\r\n            this._calcContainer.addEventListener('click', this._processMouseEvent.bind(this));\r\n            this._screen.addEventListener('keypress', this._processKeyboardEvent.bind(this));\r\n        }\r\n    }\r\n\r\n    _processMouseEvent(event) {\r\n        // Read chars and commands from elements with 'data-' attributes, please see: index.html\r\n        let char = event.target.getAttribute('data-character');\r\n        let operator = event.target.getAttribute('data-operator');\r\n        let key = event.target.getAttribute('data-key');\r\n\r\n        if (char) {\r\n            this._inputChar(char);\r\n\r\n        } else {\r\n            if (operator) {\r\n                this._performOperator(operator);\r\n\r\n            } else {\r\n                if (key) {\r\n                    // perform a command with a key, e.g:\r\n                    // this[\"_performClean\"](),\r\n                    // this[\"_performUndo\"]()\r\n                    this[key]();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _processKeyboardEvent(event) {\r\n\r\n        // Determine and perform backspace.\r\n        if (event.which === 8) {\r\n            // There is some particularity in Mozilla browser: if we press backspace,\r\n            // getChar() writes 'null' on the screen. Other browsers don't do this.\r\n            // But if we do preventDefault() for the keyboard backspace, problem disappears.\r\n            event.preventDefault();\r\n            this._performBackspace();\r\n\r\n            return;\r\n        }\r\n\r\n        let strFromChar; // it keeps the current symbol from the keypress event\r\n\r\n        // Getting a character from the keypress event.\r\n        if (event.type === 'keypress') {\r\n            event.preventDefault();\r\n            strFromChar = getChar(event);\r\n        }\r\n\r\n        // Determine and perform an operator.\r\n        let operators = {\r\n            '+': 'add',\r\n            '-': 'sub',\r\n            '*': 'mul',\r\n            '/': 'div'\r\n        };\r\n\r\n        if (operators[strFromChar]) {\r\n            this._performOperator(operators[strFromChar]);\r\n\r\n            return;\r\n        }\r\n\r\n        // Determine a digit and perform input\r\n        let ALLOWED_CHAR = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n\r\n        if (ALLOWED_CHAR.indexOf(strFromChar) !== -1) {\r\n            this._inputChar(strFromChar);\r\n\r\n            return;\r\n        }\r\n\r\n        // Determine the dot and perform input\r\n        if (strFromChar === '.') {\r\n            this._inputDot();\r\n\r\n            return;\r\n        }\r\n\r\n        // Determine and perform the equally command\r\n        if (event.which === 13) {\r\n            this._performEqually();\r\n        }\r\n    }\r\n\r\n\r\n    /* Internal methods */\r\n\r\n    _performBackspace() {\r\n        this._screen.value = this._screen.value.slice(0, -1);\r\n\r\n        if (!this._screen.value) {\r\n            this._screen.value = 0;\r\n            this._inputUpdated = false;\r\n        }\r\n    }\r\n\r\n    _performMinusPlus() {\r\n        if (this._screen.value) {\r\n            this._screen.value *= -1;\r\n        }\r\n    }\r\n\r\n    _inputDot() {\r\n        // if the dot has been inputted just after the equally command -\r\n        // change the screen value to '0.'\r\n        if (this._equallyInputted === true) {\r\n            this._screen.value = '0.';\r\n            this._inputUpdated = true;\r\n        }\r\n\r\n        // The screen value must not contain more than one dot.\r\n        if (this._screen.value.indexOf('.') === -1) {\r\n            this._screen.value += '.';\r\n            this._inputUpdated = true;\r\n\r\n        } else {\r\n            return false; // do nothing\r\n        }\r\n    }\r\n\r\n    _inputChar(char) {\r\n        // Catching first character inputted\r\n        if (this._inputUpdated === false) {\r\n            this._screen.value = char; // replace default or previous value\r\n            this._inputUpdated = true;\r\n\r\n        } else {\r\n            // The next inputted character will be added after previous one.\r\n            this._screen.value += char;\r\n        }\r\n    }\r\n\r\n    _performOperator(operator) {\r\n        if (!this._screen.value) {\r\n            return false; // in case of screen.value === '';\r\n        }\r\n\r\n        // Catching the first operand.\r\n        // An operand will not be added to the calculator register until an operator is entered.\r\n\r\n        // If an operator has been inputted at the first time, read the first operand\r\n        // and add it to the calculator register.\r\n        if (this._currentOperator === null) {\r\n\r\n            // If the equally command has been performed before this step -\r\n            // clean the calculator register and set the default value for the '_equallyInputted' flag.\r\n            if (this._equallyInputted) {\r\n                this._equallyInputted = false;\r\n                this._calculator.clean();\r\n            }\r\n\r\n            // The default value of the calculator register is an empty array,\r\n            // so we just adding the first operand to it.\r\n            this._calculator.add(parseFloat(this._screen.value));\r\n            this._firstOperandInputted = true;\r\n            this._currentOperator = operator;\r\n            this._inputUpdated = false; // prepare to catch a new operand\r\n\r\n            return;\r\n        }\r\n\r\n        // Catching the second operand.\r\n        // If an operator is entered not at the first time, and a new character was inputted -\r\n        // read the second operand and perform calculation\r\n        if (this._currentOperator && this._inputUpdated) {\r\n            this._screen.value = this._calculator[this._currentOperator](parseFloat(this._screen.value));\r\n            this._currentOperator = operator;\r\n            this._inputUpdated = false;\r\n\r\n            return;\r\n        }\r\n\r\n        // If different operators were entered one by one - update current operator (save the latest)\r\n        if (this._currentOperator && this._inputUpdated === false) {\r\n            this._currentOperator = operator;\r\n        }\r\n    }\r\n\r\n    _performEqually() {\r\n\r\n        // If the equally command is inputted at the first time, and there are the first operand\r\n        // and the current operator - catch the second operand and make calculation\r\n\r\n        if (!this._equallyInputted && this._firstOperandInputted && this._inputUpdated && this._currentOperator) {\r\n\r\n            this._screen.value = this._calculator[this._currentOperator](parseFloat(this._screen.value));\r\n            this._equallyInputted = true;\r\n            this._setDefaultFlags();\r\n\r\n        } else {\r\n            // if the equally command is entered one by one - repeat the previous calculation operation.\r\n            if (!this._firstOperandInputted) {\r\n                this._screen.value = this._calculator.repeatLastCommand();\r\n                this._inputUpdated = false;\r\n\r\n            // in other cases - do nothing\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    // prepare for new commands\r\n    _setDefaultFlags() {\r\n        this._firstOperandInputted = false;\r\n        this._currentOperator = null;\r\n        this._inputUpdated = false;\r\n    }\r\n\r\n    // clean the calculator register and prepare for new commands\r\n    _performClean() {\r\n        this._screen.value = this._calculator.clean();\r\n        this._setDefaultFlags();\r\n    }\r\n\r\n    // perform one step backward\r\n    _performUndo() {\r\n        this._screen.value = this._calculator.undo(1);\r\n    }\r\n\r\n    // perform one step forward\r\n    _performRedo() {\r\n        this._screen.value = this._calculator.redo(1);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculatorUI/calculatorUI.js\n **/","'use strict';\r\n// The cross-browser function for getting character from the keypress event\r\n// Copied from: https://learn.javascript.ru/keyboard-events#getChar\r\n\r\nexport default function getChar(event) {\r\n    if (event.which == null) { // IE\r\n        if (event.keyCode < 32) return null; // special symbol\r\n\r\n        return String.fromCharCode(event.keyCode)\r\n    }\r\n\r\n    if (event.which != 0 && event.charCode != 0) { // other browsers\r\n        if (event.which < 32) {\r\n\r\n            return null; // special symbol\r\n        }\r\n\r\n        return String.fromCharCode(event.which);\r\n    }\r\n    return null; // special symbol\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/calculatorUI/getChar.js\n **/"],"sourceRoot":""}